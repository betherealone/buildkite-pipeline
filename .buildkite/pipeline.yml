steps:
  # Step 1. Make a lint of the project for avoiding any linting errors.
  - label: "Project linting"
    command: echo "make lint"
    agents:
      - "queue=testing"
  
  # Step 2. Wait for the linting to finish, fail the build if step 1. is failed
  - wait

  # Step 3. Select the target on which terraform plan needs to be run

  - command: ./.buildkite/generate-targets.sh
    label: ":file_folder: Select the target folder"
    agents:
      - "queue=testing" 

  - block: "Release"
    prompt: "Fill out the details for release"
    fields: 
    - select: "Type"
      key: "release-type"
      default: "beta"
      options:
      - label: "Beta"
        value: "beta"
      - label: "Stable"
        value: "stable"
  
  
